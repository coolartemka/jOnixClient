<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
	<p:growl id="error" />
	<p:accordionPanel>
		<p:tab title="Organization Details">
			<h:form>	
				<h:panelGrid columns="6">			
					<p:outputLabel for="organization" value="Organization Name:" style="font-weight:bold" />
					<p:spacer width="10" />
					<p:inputText id="organization" value="#{accountSettings.addressee}" required="true" 
											requiredMessage="Enter the name of your organization" />
					<p:spacer width="15" />
					<p:commandButton value="Save" update=":error organizationLabel" icon="ui-icon-check" 
									actionListener="#{accountSettings.registerContact}" />		
					<h:graphicImage id="organization_information" library="img" name="mark.jpg" 
									style="width:45px;padding-left:10px;cursor:help" />
				</h:panelGrid>
				<h:panelGroup id="organizationLabel">
					<p:tooltip for="organization_information" 
								value="Your current organization: #{accountSettings.addresseeShow}" 
								showEffect="slide" hideEffect="slide" /> 
				</h:panelGroup>
			</h:form>
			<br /><br />
		</p:tab>
		<p:tab title="Service Connection Details">
			<h:form>
				<p:commandButton value="Generate Service Keys" actionListener="#{accountSettings.generateKey}" 
									update="service_key" />
				<div style="border:1px solid black;padding:5px 5px 5px 5px;width:500px;margin-top:10px">
					 Your current jOnix Service Access key is: 
					 <br />
					 <h:outputText style="font-weight:bold" id="service_key" value="#{accountSettings.key}" />		
				</div>
			</h:form>
		</p:tab>
		<p:tab title="Change Your Password">
			<h:form style="text-align:right;width:480px">
				<p:outputLabel for="pass1" value="Enter New Password:" style="font-weight:bold" />
				<p:spacer width="10" />
				<p:password id="pass1" value="#{accountSettings.newPassword}" required="true" 
											requiredMessage="Enter the new password!" />
				<br /><br />
				<p:outputLabel for="pass2" value="Repeat New Password:" style="font-weight:bold" />
				<p:spacer width="10" />
				<p:password id="pass2" value="#{accountSettings.newPasswordRepeat}" required="true" 
											requiredMessage="Repeat the new password!" />
				<br /><br />
				<p:commandButton value="Save" update=":error" icon="ui-icon-check" 
									actionListener="#{accountSettings.changePassword}" />		
			</h:form>			
		</p:tab>	
	</p:accordionPanel>

</ui:composition>