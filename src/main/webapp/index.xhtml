<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>ONIX Management Panel</title>
</h:head>
<h:body>
	<p:growl id="errorMessages" />
	<p:panel id="loginPanel" header="Sign In" style="width:380px;margin:auto auto" visible="#{navigation.page == 'login'}">
		<h:form>					
			<h:panelGrid columns="2">				
				<p:outputLabel for="login" value="Login:" style="display:block;text-align:right;font-weight:bold" />
				<p:inputText id="login" value="#{registration.login}" required="true" requiredMessage="Login must be specified" />
				<p:outputLabel for="password" value="Password:" style="display:block;text-align:right;font-weight:bold" />
				<p:password id="password" value="#{registration.password}" required="true" requiredMessage="Password must be specified" />
				<p:spacer />
				<p:commandButton value="Proceed" actionListener="#{registration.login}" action="#{registration.proceed}" update=":loginPanel :errorMessages" style="font-size:15px;width:150px;height:35px;margin-top:5px;float:right"/>
				<p:spacer />
				<p:commandLink id="registrationLink" style="font-size:15px;float:right" update=":loginPanel :registerPanel" immediate="true">
					<f:setPropertyActionListener target="#{navigation.page}" value="register" />
					<h:outputText value="Have no account?" />
				</p:commandLink>
			</h:panelGrid>
		</h:form>
	</p:panel>
	<p:panel id="registerPanel" header="Register" style="width:430px;margin:auto auto" visible="#{navigation.page == 'register'}">
		<h:form>
			<h:panelGrid columns="2">
				<p:outputLabel for="login" value="New Login:" style="display:block;text-align:right;font-weight:bold" />
				<p:inputText id="login" value="#{registration.login}" required="true" requiredMessage="Login must be specified" />
				<p:outputLabel for="password" value="New Password:" style="display:block;text-align:right;font-weight:bold" />
				<p:password feedback="true" id="password" value="#{registration.password}" required="true" requiredMessage="Password must be specified" />
				<p:spacer />
				<p:commandButton value="Register" actionListener="#{registration.register}" action="#{registration.proceed}" update=":registerPanel :errorMessages" style="font-size:15px;width:150px;height:35px;margin-top:5px;float:right"/>
				<p:spacer />
				<p:commandLink id="backLink" style="font-size:15px;float:right" update=":loginPanel :registerPanel" immediate="true">
					<f:setPropertyActionListener target="#{navigation.page}" value="login" />
					<h:outputText value="Back" />
				</p:commandLink>
			</h:panelGrid>
		</h:form>	
	</p:panel>
</h:body>
</html>